# üöÄ Render Deployment Guide - Quick Start

**Your VoiceCoach Platform is ready for Render deployment!**

---

## ‚ö° Quick Deploy (5 minutes)

### Step 1: Push to GitHub

```bash
# Make sure you're in the correct directory
cd c:\Users\suyas\Downloads\voiceCoach-master\voiceCoach-master

# Initialize git (if not already done)
git init

# Add all files
git add .

# Commit
git commit -m "Ready for Render deployment"

# Add your GitHub repository
git remote add origin https://github.com/YOUR_USERNAME/YOUR_REPO_NAME.git

# Push to GitHub
git push -u origin main
```

‚ö†Ô∏è **IMPORTANT:** Make sure `.env` is in `.gitignore` (it already is!) - Never commit secrets!

---

### Step 2: Deploy to Render

#### Option A: Blueprint (One-Click Deploy) ‚≠ê RECOMMENDED

1. Go to https://dashboard.render.com
2. Click **"New"** ‚Üí **"Blueprint"**
3. Select your GitHub repository
4. Render will detect `render.yaml` automatically
5. Click **"Apply"**

Render will create:
- ‚úÖ voicecoach-api service (FastAPI)
- ‚úÖ voicecoach-chatbot service (Flask)
- ‚úÖ voicecoach-db (PostgreSQL)
- ‚úÖ chatbot-db (PostgreSQL)

#### Option B: Manual Service Creation

See full DEPLOYMENT.md for detailed manual steps.

---

### Step 3: Add Your API Keys

After deployment, add these environment variables in Render Dashboard:

#### For **voicecoach-api** service:
1. Go to service ‚Üí Environment
2. Add:
   - `OPENAI_API_KEY` = your OpenAI key
   - `ELEVENLABS_API_KEY` = your ElevenLabs key (optional)

#### For **voicecoach-chatbot** service:
1. Go to service ‚Üí Environment
2. Add:
   - `OPENAI_API_KEY` = your OpenAI key
   - `QDRANT_URL` = your Qdrant cluster URL
   - `QDRANT_API_KEY` = your Qdrant API key

**Note:** Other secrets (SECRET_KEY, JWT_SECRET_KEY, etc.) are auto-generated by Render!

---

## üéØ Your Service URLs

After deployment, your services will be available at:

- **VoiceCoach API:** `https://voicecoach-api.onrender.com`
- **Web Chatbot:** `https://voicecoach-chatbot.onrender.com`

---

## ‚úÖ Verify Deployment

### Test Health Endpoints

```bash
# VoiceCoach API
curl https://voicecoach-api.onrender.com/health

# Web Chatbot
curl https://voicecoach-chatbot.onrender.com/health
```

Both should return `{"status":"healthy",...}`

### Test Authentication

```bash
# Signup on VoiceCoach
curl -X POST https://voicecoach-api.onrender.com/auth/signup \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","password":"TestPass123!","name":"Test User"}'

# Login
curl -X POST https://voicecoach-api.onrender.com/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","password":"TestPass123!"}'
```

---

## üîç Monitor Deployment

### View Logs

1. Go to Render Dashboard
2. Click on your service
3. Go to **"Logs"** tab
4. Watch for:
   - ‚úÖ "Application startup complete" (VoiceCoach)
   - ‚úÖ "Database initialized" (Chatbot)

### Check Database

1. Go to your database in Render
2. Connect tab shows connection string
3. Use a PostgreSQL client to verify tables were created

---

## ‚ö†Ô∏è Important Notes

### Cold Starts
Free tier services sleep after 15 minutes of inactivity. First request may take 30-60 seconds.

### CORS Configuration
After deployment, if you have a frontend at a different domain:

1. Go to voicecoach-api ‚Üí Environment
2. Update `ALLOWED_ORIGINS` to include your frontend URL:
   ```
   https://your-frontend.com,https://voicecoach-chatbot.onrender.com
   ```

### Database URLs
Render automatically provides `DATABASE_URL` environment variable. Both services are configured to:
- Convert Render's `postgres://` to SQLAlchemy's `postgresql://`
- Use connection pooling
- Handle connection recycling

---

## üõ†Ô∏è Common Issues & Fixes

### Issue: Service won't start

**Check logs for:**
```
"No module named 'X'"
```
**Fix:** Ensure all dependencies in requirements.txt

### Issue: Database connection error

**Check:**
1. Database is running (Render dashboard)
2. DATABASE_URL is set (auto-set by Render)
3. Service has database linked in render.yaml

### Issue: 502 Bad Gateway

**Reasons:**
- Service is still starting (wait 2-3 minutes)
- Build failed (check build logs)
- Port binding issue (Render uses $PORT env var - we handle this)

### Issue: Authentication not working

**Check:**
1. SECRET_KEY is set (auto-generated)
2. JWT_SECRET_KEY is set (auto-generated)
3. OpenAI API key is added manually

---

## üìä Cost Estimate

### Free Tier
- 2 Web Services: $0 (750 hours/month each)
- 2 PostgreSQL: $0 (750 hours/month each)

**Total: FREE** for low-traffic usage!

### Paid Tier (if you upgrade)
- Starter Web Services: $7/month each = $14/month
- Starter PostgreSQL: $7/month each = $14/month

**Total: $28/month** for production use

---

## üéâ Success Checklist

After deployment, verify:

- [ ] Both services show "Live" status in Render
- [ ] Health endpoints respond
- [ ] Signup creates user successfully
- [ ] Login returns JWT token
- [ ] Database tables created
- [ ] Logs show no errors
- [ ] Frontend can connect (if applicable)

---

## üîó Useful Links

- **Render Dashboard:** https://dashboard.render.com
- **Render Docs:** https://render.com/docs
- **Blueprint Spec:** https://render.com/docs/blueprint-spec
- **PostgreSQL Guide:** https://render.com/docs/databases

---

## üìû Need Help?

1. Check DEPLOYMENT.md for detailed troubleshooting
2. Review Render logs for error messages
3. Check CHECKLIST.md for verification steps
4. Test locally first with TEST_RESULTS.md

---

**You're all set! üöÄ Deploy and enjoy your VoiceCoach Platform!**
