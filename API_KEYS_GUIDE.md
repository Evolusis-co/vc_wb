# üîë RENDER ENVIRONMENT VARIABLES - QUICK REFERENCE

## ‚ö° What You Need to Add Manually

After deploying to Render via Blueprint, you MUST add these API keys manually.

---

## üìã VoiceCoach API Service

**Service Name:** `voicecoach-api`

### Required Variables to Add:

1. **OPENAI_API_KEY**
   - **Value:** Your OpenAI API key from https://platform.openai.com
   - **Example:** `sk-proj-xxxxxxxxxxxxx`
   - **Required:** YES ‚úÖ

2. **ELEVENLABS_API_KEY** (Optional)
   - **Value:** Your ElevenLabs API key from https://elevenlabs.io
   - **Example:** `xxxxxxxxxxxxxxxxxx`
   - **Required:** NO (falls back to OpenAI TTS)
   - **Recommended:** YES (better voice quality)

### Auto-Generated (Do NOT add these):
- ‚úÖ `SECRET_KEY` - Auto-generated by Render
- ‚úÖ `DATABASE_URL` - Auto-linked from database
- ‚úÖ `ALLOWED_ORIGINS` - Set in render.yaml
- ‚úÖ `ENVIRONMENT` - Set to "production"
- ‚úÖ All other config variables

---

## üìã Web Chatbot Service

**Service Name:** `voicecoach-chatbot`

### Required Variables to Add:

1. **OPENAI_API_KEY**
   - **Value:** Your OpenAI API key (can be same as above)
   - **Example:** `sk-proj-xxxxxxxxxxxxx`
   - **Required:** YES ‚úÖ

2. **QDRANT_URL**
   - **Value:** Your Qdrant cluster URL from https://cloud.qdrant.io
   - **Example:** `https://xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.us-east-1-0.aws.cloud.qdrant.io`
   - **Required:** YES ‚úÖ

3. **QDRANT_API_KEY**
   - **Value:** Your Qdrant API key
   - **Example:** `xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`
   - **Required:** YES ‚úÖ

### Auto-Generated (Do NOT add these):
- ‚úÖ `FLASK_SECRET_KEY` - Auto-generated by Render
- ‚úÖ `JWT_SECRET_KEY` - Auto-generated by Render
- ‚úÖ `DATABASE_URL` - Auto-linked from database
- ‚úÖ `CORS_ORIGINS` - Set in render.yaml
- ‚úÖ `FLASK_ENV` - Set to "production"
- ‚úÖ All other config variables

---

## üéØ How to Add Variables in Render

### Step-by-Step:

1. **Go to Render Dashboard**
   - URL: https://dashboard.render.com

2. **Select Your Service**
   - Click on `voicecoach-api` or `voicecoach-chatbot`

3. **Navigate to Environment**
   - Click **"Environment"** in the left sidebar

4. **Add Environment Variable**
   - Click **"Add Environment Variable"** button
   - Enter **Key** (exact name from above)
   - Enter **Value** (your actual API key)
   - Click **"Save Changes"**

5. **Service Auto-Redeploys**
   - Render automatically redeploys with new variables
   - Wait 2-3 minutes for redeployment

6. **Repeat for Each Variable**
   - Add all required variables listed above

---

## üìù Copy-Paste Template

### For VoiceCoach API:

```
Key: OPENAI_API_KEY
Value: [PASTE YOUR OPENAI KEY HERE]

Key: ELEVENLABS_API_KEY
Value: [PASTE YOUR ELEVENLABS KEY HERE]
```

### For Web Chatbot:

```
Key: OPENAI_API_KEY
Value: [PASTE YOUR OPENAI KEY HERE]

Key: QDRANT_URL
Value: [PASTE YOUR QDRANT CLUSTER URL HERE]

Key: QDRANT_API_KEY
Value: [PASTE YOUR QDRANT API KEY HERE]
```

---

## üîç Where to Get API Keys

### OpenAI API Key
1. Go to https://platform.openai.com
2. Sign in or create account
3. Click on your profile ‚Üí **"View API keys"**
4. Click **"Create new secret key"**
5. Copy the key (starts with `sk-`)
6. **Important:** Save it now - you can't see it again!

### ElevenLabs API Key (Optional)
1. Go to https://elevenlabs.io
2. Sign in or create account
3. Go to your profile settings
4. Find **"API Key"** section
5. Copy your API key

### Qdrant Credentials
1. Go to https://cloud.qdrant.io
2. Sign in or create account
3. Create a cluster (free tier available)
4. Click on your cluster
5. Copy **Cluster URL** (looks like: `https://xxxxx.aws.cloud.qdrant.io`)
6. Go to **"API Keys"** tab
7. Create or copy API key

---

## ‚ö†Ô∏è Important Security Notes

### DO NOT:
- ‚ùå Commit API keys to git
- ‚ùå Share API keys publicly
- ‚ùå Use production keys in development
- ‚ùå Include keys in render.yaml

### DO:
- ‚úÖ Add keys via Render dashboard only
- ‚úÖ Use different keys per environment
- ‚úÖ Rotate keys regularly
- ‚úÖ Monitor API usage
- ‚úÖ Set usage limits on provider dashboards

---

## ‚úÖ Verification Checklist

After adding all variables:

### VoiceCoach API:
- [ ] `OPENAI_API_KEY` added
- [ ] `ELEVENLABS_API_KEY` added (or skipped if using OpenAI TTS)
- [ ] Service redeployed successfully
- [ ] Logs show "Application startup complete"
- [ ] Health check returns: `{"status":"healthy"}`
- [ ] No API key errors in logs

### Web Chatbot:
- [ ] `OPENAI_API_KEY` added
- [ ] `QDRANT_URL` added
- [ ] `QDRANT_API_KEY` added
- [ ] Service redeployed successfully
- [ ] Logs show "‚úÖ All services initialized successfully"
- [ ] Health check returns: `{"status":"healthy"}`
- [ ] No connection errors in logs

---

## üß™ Test After Adding Keys

```bash
# Test VoiceCoach API
curl https://voicecoach-api.onrender.com/health

# Test Web Chatbot
curl https://voicecoach-chatbot.onrender.com/health

# Test Authentication (should work with OpenAI key)
curl -X POST https://voicecoach-api.onrender.com/auth/signup \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","password":"TestPass123!","name":"Test User"}'
```

**Expected:** All return successful responses (no 500 errors)

---

## üÜò Troubleshooting

### "OpenAI API key not found" Error

**Cause:** `OPENAI_API_KEY` not set  
**Fix:** Add the variable in Render dashboard

### "Connection to Qdrant failed" Error

**Cause:** `QDRANT_URL` or `QDRANT_API_KEY` incorrect  
**Fix:** Verify credentials from Qdrant dashboard

### Service Won't Start After Adding Keys

**Cause:** Invalid key format or typo  
**Fix:** 
1. Check logs for specific error
2. Verify key copied correctly (no extra spaces)
3. Test key works on provider's platform
4. Redeploy manually if needed

### ElevenLabs Voice Not Working

**Cause:** `ELEVENLABS_API_KEY` missing or invalid  
**Solution:** System falls back to OpenAI TTS (works fine!)  
**To use ElevenLabs:** Add valid API key

---

## üí∞ API Cost Management

### OpenAI
- Monitor usage: https://platform.openai.com/usage
- Set monthly limits in account settings
- GPT-4 costs ~$0.03-0.06 per 1K tokens

### ElevenLabs
- Monitor usage: https://elevenlabs.io/subscription
- Free tier: 10K characters/month
- Paid: $5/month for 30K characters

### Qdrant
- Free tier: 1GB cluster
- Paid: Starts at $25/month for larger clusters

---

## üìä Quick Reference Card

| Service | Variable | Provider | Required? |
|---------|----------|----------|-----------|
| VoiceCoach | OPENAI_API_KEY | OpenAI | ‚úÖ YES |
| VoiceCoach | ELEVENLABS_API_KEY | ElevenLabs | ‚ö†Ô∏è Optional |
| Chatbot | OPENAI_API_KEY | OpenAI | ‚úÖ YES |
| Chatbot | QDRANT_URL | Qdrant | ‚úÖ YES |
| Chatbot | QDRANT_API_KEY | Qdrant | ‚úÖ YES |

---

## üéâ Ready to Add Keys!

1. Have all your API keys ready
2. Go to Render dashboard
3. Add variables as listed above
4. Wait for auto-redeploy
5. Test endpoints
6. Done! üöÄ

**Time required:** 2-3 minutes per service

---

**Need Help?**
- Check RENDER_DEPLOYMENT.md for deployment guide
- Check DEPLOYMENT_READINESS.md for troubleshooting
- Check service logs in Render dashboard
